etcd:
  host: 127.0.0.1
  port: 2379

# # Anonymous authentication
# authentication:
#   kind: static
#   name: system

# Keystone authentication
authentication:
  kind: keystone
  endpoint: http://localhost:5000/v3

# Authorization mode
#
#  - RBAC (Role-based access control)
#  - always-allow (Allow all requests. No authorization is performed.)
#  - always-deny (Deny all requests. Only for testing purposes.)
#
authorization: always-allow

default-roles:
- metadata:
    name: system:admin
  rules:
  - api: all
    namespaces: ["all"]
    resources: ["all"]
    verbs: ["create", "list", "get", "update", "delete"]

default-role-bindings:
- metadata:
    name: system:admin
  users: ["system:admin"]
  roles: ["system:admin"]


controllers:

  scheduler:
    api_endpoint: http://localhost:8080
    worker_count: 5

  kubernetes:
    api_endpoint: http://localhost:8080
    worker_count: 5


log:
  version: 1
  formatters:
    krake:
      format: "%(asctime)s - [%(name)s] - [%(levelname)-5s] - %(message)s"
  handlers:
    console:
      class: logging.StreamHandler
      formatter: krake
      stream: ext://sys.stdout
    file:
      class: logging.handlers.WatchedFileHandler
      formatter: krake
      filename: krake.log
  root: # Configuring the default (root) logger is highly recommended
    level: INFO
    handlers: [console]
  loggers:
    krake:
      level: INFO
      handlers: [console]
      propagate: no
